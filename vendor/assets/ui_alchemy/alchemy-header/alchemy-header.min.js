angular.module("alch-templates").run(["$templateCache",function(e){e.put("component/templates/dropdown.html",'<ul class="dropdown"\n    ng-class="{ \'dropdown-right\' : isRight(dropdown.direction), \'dropdown-active\' : dropdown.show }">\n  <li class="dropdown-item"\n      ng-repeat="item in dropdown"\n      ng-mouseenter="setHover(item, true)"\n      ng-mouseleave="setHover(item, false)">\n\n    <a class="dropdown-item-link"\n       href="{{ item.url }}"\n       ng-class="{\'menu-anchor\' : item.type, \'dropdown-item-link-active\' : item.active }">\n      <span class="fl">{{ item.display }}</span>\n      <i class="icon-caret-right flyout-indicator" ng-show="item.type==\'flyout\'"></i>\n    </a>\n    <ul alch-flyout="item.items"\n        ng-show="flyout.show"\n        ng-class="{ \'dropdown-active\' : dropdown.show }">\n    </ul>\n  </li>\n</ul>\n'),e.put("component/templates/flyout.html",'<ul class="flyout">\n  <li class="flyout-item"\n      ng-repeat="item in flyout"\n      ng-class="{ \'dropdown-highlight\' : item.active }"\n      ng-mouseenter="setHover(item, true)"\n      ng-mouseleave="setHover(item, false)">\n  \n    <a class="flyout-item-link" href="{{ item.url }}">{{ item.display }}</a>\n  </li>\n</ul>\n'),e.put("component/templates/menu.html",'<nav ng-class="menu.location">\n  <ul class="menu-container">\n\n    <li class="menu-item"\n        ng-repeat="item in menu.items"\n        ng-mouseenter="handleHover(item, true)"\n        ng-mouseleave="handleHover(item, false)">\n\n        <a href="{{ item.url }}"\n           ng-class="{ \'active-item\' : item.active, \'menu-anchor\' : item.type }"\n           class="menu-item-link"> \n          <span ng-bind-html-unsafe="item.display"></span>\n         <i class="icon-caret-down" ng-show="item.type == \'dropdown\'"></i>\n        </a>\n        <ul alch-dropdown="item.items"></ul>\n    </li>\n  </ul>\n</nav>\n')}]),angular.module("alchemy").directive("alchDropdown",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{dropdown:"=alchDropdown"},templateUrl:"component/templates/dropdown.html",controller:["$scope",function(e){e.setHover=function(n,t){t?(n.active=!0,"flyout"===n.type&&(e.flyout=n.items,e.flyout.show=!0)):(e.flyout&&(e.flyout.show=!1),n.active=!1)},e.isRight=function(e){return"right"===e}}]}}),angular.module("alchemy").directive("alchFlyout",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{flyout:"=alchFlyout"},templateUrl:"component/templates/flyout.html",controller:["$scope",function(e){e.setHover=function(e,n){e.active=n?!0:!1}}]}}),angular.module("alchemy").directive("alchMenu",["$window",function(e){return{restrict:"EA",transclude:!0,replace:!0,scope:{menu:"=alchMenu",compact:"@"},templateUrl:"component/templates/menu.html",controller:["$scope",function(e){e.dropdown={},e.handleHover=function(n,t){"dropdown"===n.type&&t?(n.active=!0,e.dropdown=n.items,e.dropdown.show=!0,e.dropdown.direction=e.menu.location):(e.dropdown.show=!1,n!==e.menu.activeItem&&(n.active=!1))}}],link:function(n,t,o){var l;void 0!==o.compact&&(l=$(t).offset().top,angular.element(e).bind("scroll",function(){var n=$(e).scrollTop();n>l+2?t.parent().addClass("compact"):l>n&&t.parent().removeClass("compact")}))}}}]);